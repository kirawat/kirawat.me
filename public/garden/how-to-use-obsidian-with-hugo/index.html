<!doctype html><html lang=en-us dir=ltr data-theme=dark><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>How to use Obsidian with Hugo | Kirawat Sahasewiyon</title><link rel=preconnect href=https://fonts.googleapis.com><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap"><link rel=stylesheet href=/css/main.min.64ae0bc256fa9d2e7eb6d95861f4287b949fcd08d58533aa55ce342c4e349dc7.css integrity="sha256-ZK4Lwlb6nS5+ttlYYfQoe5SfzQjVhTOqVc40LE40ncc=" crossorigin=anonymous><link rel=stylesheet href=/css/syntax-dark.min.435a5cf938204d0fd1b1823c98a93d6444a373b056fcdafb22bfa8cd0007bf21.css integrity="sha256-Q1pc+TggTQ/RsYI8mKk9ZESjc7BW/Nr7Ir+ozQAHvyE=" crossorigin=anonymous><link rel=stylesheet href=/css/syntax-light.min.c7f02e3602050953d782c5948a858f18cc1bd6295bf8f8dd8c89fd46658037fa.css integrity="sha256-x/AuNgIFCVPXgsWUioWPGMwb1ilb+PjdjIn9RmWAN/o=" crossorigin=anonymous><script src=/js/top.364772487a6086850096100cba86880e1b4ac8766d1da5dfd7b5c40483f2dc50.js integrity="sha256-NkdySHpghoUAlhAMuoaIDhtKyHZtHaXf17XEBIPy3FA=" crossorigin=anonymous></script></head><body><header><div id=header><div class=header-container><div class=header-site-title>Kirawat Sahasewiyon</div><div class=header-spacer></div><div class=header-nav><nav><ul><li><a href=/>Home</a></li><li><a aria-current=true class=ancestor href=/garden/>Garden</a></li></ul></nav></div><div class=theme-slider-container><label class=theme-slider><input type=checkbox id=dark-mode-button onclick=toggleDarkMode()><div class="round slider"></div></label></div></div></div></header><main><ul id=breadcrumbs><li><a href=/>Home</a></li><li><a href=/garden/>Digital Garden</a></li></ul><article><div class=header><h1 class=title>How to use Obsidian with Hugo</h1></div><div id=meta-container><div class=tags><ul><li><a href=/tags/programming/web/>Programming/Web</a></li><li><a href=/tags/tutorial/>Tutorial</a></li></ul></div><div class=datetime><div class=post-date data-tooltip="11 December 2023 23:12:00 PM (+07:00)">Planted&nbsp;
<span id=planted-date data-datetime=2023-12-11T23:12:00+07:00></span>
<span class=tooltip>11 December 2023 23:12:00 PM (+07:00)</span></div><div class=post-date data-tooltip="13 December 2023 16:02:18 PM (+07:00)">Last tended&nbsp;
<span id=last-tended data-datetime=2023-12-13T16:02:18+07:00></span>
<span class=tooltip>13 December 2023 16:02:18 PM (+07:00)</span></div></div></div><div id=article-content><h2 id=ignore-unwanted-files>Ignore unwanted files</h2><p>All of my Obsidian notes are save in <code>content</code> folder. That&rsquo;s mean there are notes and files that I don&rsquo;t it to be part of the site included. I have to let Hugo know to ignore them. We can set that in <code>hugo.yaml</code> file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>ignoreFiles</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>content/.obsidian/\.*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>content/10 Inbox/\.*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>content/20 Notes/\.*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>content/40 Projects/\.*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>content/50 Commonplace/\.*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>content/60 Resources/\.*</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span>- <span class=l>content/70 Archive/\.*</span><span class=w>
</span></span></span></code></pre></div><h2 id=process-markdown-links>Process markdown links</h2><p>By default, the Obsidian&rsquo;s <a href=https://help.obsidian.md/Linking+notes+and+files/Internal+links target=_blank>internal links</a> doesn&rsquo;t work properly when processed with Hugo.</p><p>[[Wikilinks]] doesn&rsquo;t have any relative path to notes in another folder. Make it difficult to phases the link, especially when there are notes with the same name in another folders. How would anyone know which note the link actually linked to, beside Obsidian?</p><p>It&rsquo;s appeared that solution by <a href="https://www.reddit.com/r/ObsidianMD/comments/14wba3s/comment/jrhn7oi/?utm_source=share&amp;utm_medium=web2x&amp;context=3" target=_blank>ichmoimeyo</a> is to change the settings in Obsidian as follow:</p><p>Under <code>Files and Links</code>:</p><ol><li>Set <code>Default location for new notes</code> -> <code>Same folder as current file</code>.</li><li>Set <code>New Link format</code> -> <code>Relative path to file</code>.</li><li>Set <code>Use [[Wikilinks]]</code> -> <code>off</code>.</li><li>Set <code>Default location for new attachments</code> -> <code>In subfolder under current folder</code>.</li><li>Set <code>Subfolder name</code> -> <code>attachments</code>.</li></ol><p>This will format link to be similar to standard the Markdown links. Make it easier to know which note in which folder the link actually linked to.</p><blockquote class=callout-note><div class=callout-title>Note</div><p>Even if you disable the Wikilink format, <a href=https://help.obsidian.md/Linking+notes+and+files/Internal+links#Supported+formats+for+internal+links target=_blank>you can still autocomplete links by typing two square brackets [[</a> . When you select one of the suggested files, Obsidian will generates a Markdown link.</p></blockquote><p>Here is the inline partial template that converts Obsidian markdown links to links that works in Hugo:</p><p>Create <code>obsidianMd.html</code> in <code>layouts/partials/inline/</code>. Copy code from below and save it to the file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=line><span class=cl><span class=cp>{{</span><span class=w> </span><span class=k>define</span><span class=w> </span><span class=s>&#34;partials/inline/obsidianMd.html&#34;</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>  <span class=cp>{{</span><span class=w> </span><span class=nx>$content</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=na>.</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>  <span class=cp>{{</span><span class=w> </span><span class=nx>$links</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>$content</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>findRE</span><span class=w> </span><span class=s>`href=&#34;(.+)&#34;`</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- Run through all the links in content --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=cp>{{</span><span class=w> </span><span class=k>range</span><span class=w> </span><span class=nx>$links</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=nx>$source</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=na>.</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- Extract only URL from source --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>substr</span><span class=w> </span><span class=na>.</span><span class=w> </span><span class=nx>6</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- Skip external link --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>hasPrefix</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=s>&#34;https://&#34;</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>      <span class=cp>{{</span><span class=w> </span><span class=k>continue</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>hasPrefix</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=s>&#34;http://&#34;</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>      <span class=cp>{{</span><span class=w> </span><span class=k>continue</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- Convert URL --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>lower</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>replace</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=s>&#34; - &#34;</span><span class=w> </span><span class=s>&#34; &#34;</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>replace</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=s>&#34; &#34;</span><span class=w> </span><span class=s>&#34;-&#34;</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>replace</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=s>&#34;%20&#34;</span><span class=w> </span><span class=s>&#34;-&#34;</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>replace</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=s>&#34;.md&#34;</span><span class=w> </span><span class=s>&#34;&#34;</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>replace</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=s>&#34;#&#34;</span><span class=w> </span><span class=s>&#34;/#&#34;</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=nx>hasPrefix</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=s>&#34;../&#34;</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>      <span class=cp>{{</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>replace</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=s>&#34;../&#34;</span><span class=w> </span><span class=s>&#34;../../&#34;</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>      <span class=cp>{{</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>print</span><span class=w> </span><span class=s>&#34;../&#34;</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=nx>$link</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=k>print</span><span class=w> </span><span class=s>`href=&#34;`</span><span class=w> </span><span class=nx>$url</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- Replace link in content --&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cp>{{</span><span class=w> </span><span class=nx>$content</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>replace</span><span class=w> </span><span class=nx>$content</span><span class=w> </span><span class=nx>$source</span><span class=w> </span><span class=nx>$link</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>  <span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- Output content --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=cp>{{</span><span class=w> </span><span class=nx>$content</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>safeHTML</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl><span class=cp>{{</span><span class=w> </span><span class=k>end</span><span class=w> </span><span class=cp>}}</span>
</span></span></code></pre></div><p>Here is how to use it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=line><span class=cl><span class=cp>{{</span><span class=w> </span><span class=nx>partial</span><span class=w> </span><span class=s>&#34;inline/obsidianMd&#34;</span><span class=w> </span><span class=na>.Content</span><span class=w> </span><span class=cp>}}</span>
</span></span></code></pre></div><h2 id=support-callouts>Support Callouts</h2><p>Obsidian has support for <a href=https://help.obsidian.md/Editing+and+formatting/Callouts target=_blank>Callouts</a>, and I want to implement that as I used it quite a lot on my notes.</p><p>Here is the code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=line><span class=cl><span class=cp>{{</span><span class=w> </span><span class=nx>$content</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>replace</span><span class=w> </span><span class=nx>$content</span><span class=w> </span><span class=s>&#34;&lt;blockquote&gt;\n&lt;p&gt;[!note]&#34;</span><span class=w> </span><span class=s>`blockquote class=&#34;callout-note&#34;&gt;&lt;div class=&#34;callout-title&#34;&gt;Note&lt;/div&gt;&lt;p&gt;`</span><span class=w> </span><span class=cp>}}</span>
</span></span></code></pre></div><p>Put it before the <code>&lt;!-- Output content --></code> block like the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go-html-template data-lang=go-html-template><span class=line><span class=cl>  <span class=c>&lt;!-- Support Callouts --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=cp>{{</span><span class=w> </span><span class=nx>$content</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>replace</span><span class=w> </span><span class=nx>$content</span><span class=w> </span><span class=s>&#34;&lt;blockquote&gt;\n&lt;p&gt;[!note]&#34;</span><span class=w> </span><span class=s>`blockquote class=&#34;callout-note&#34;&gt;&lt;div class=&#34;callout-title&#34;&gt;Note&lt;/div&gt;&lt;p&gt;`</span><span class=w> </span><span class=cp>}}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- Output content --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=cp>{{</span><span class=w> </span><span class=nx>$content</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=nx>safeHTML</span><span class=w> </span><span class=cp>}}</span>
</span></span></code></pre></div></div></article></main><footer><script src=https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js></script>
<script src=/js/main.1e403b3ddc69c28483b02b4f0bff08725a75f6b0ea6c9f9b7ffb462fd5e9f4c8.js integrity="sha256-HkA7PdxpwoSDsCtPC/8Iclp19rDqbJ+bf/tGL9Xp9Mg=" crossorigin=anonymous></script></footer></body></html>